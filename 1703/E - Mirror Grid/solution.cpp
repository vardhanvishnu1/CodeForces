#include <bits/stdc++.h>using namespace std; typedef long long ll;int MOD = 1e9 + 7; ll rs(ll l,ll r) {    if(l>r){        return 0;    }    // Using the Arithmetic Series formula: (n / 2) * (first + last)    return (l + r) * (r - l + 1) / 2;} ll unq(vector<ll> &a){    // prints only the unique elements    // removes the contigous duplicates and returns the new size    ll n = unique(a.begin(), a.end()) - a.begin();    return n;} ll __lcm(ll a, ll b){    return (a / __gcd(a, b)) * b;} void fast_io(){    ios::sync_with_stdio(false);    cin.tie(NULL);    cout.tie(NULL);}  int main() {	// your code goes herefast_io;ll t;cin>>t;while(t--){    ll n;    cin>>n;    vector<vector<char>>a(n,vector<char>(n));    for(ll i=0;i<n;i++){        for(ll j=0;j<n;j++){            cin>>a[i][j];        }    }    ll ans =0;    for(ll i=0;i<n;i++){        for(ll j=0;j<n;j++){            ll c0=0,c1=0;            if(a[i][j]=='0') c0++;            else c1++;            if(a[j][n-i-1]=='0') c0++;            else c1++;            if(a[n-i-1][n-j-1]=='0') c0++;            else c1++;            if(a[n-j-1][i]=='0') c0++;            else c1++;            if(c0==0) continue;            if(c0>c1){                ans+=c1;                a[i][j]='0';                a[j][n-i-1]='0';                a[n-i-1][n-j-1]='0';                a[n-j-1][i]='0';            }            else{                ans+=c0;                a[i][j]='1';                a[j][n-i-1]='1';                a[n-i-1][n-j-1]='1';                a[n-j-1][i]='1';            }        }    }    cout<<ans<<endl;}}